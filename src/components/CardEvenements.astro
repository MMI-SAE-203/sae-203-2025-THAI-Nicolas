---
const { ...evenement } = Astro.props;
import { formatDate } from "../../backend/backend.mjs";
const formatDeLaDate = formatDate(evenement.date);
---

<a
  class="flex justify-center items-stretch w-5/6 mx-auto"
  href={`/evenements/${evenement.id}`}
>
  <div class="w-2/5">
    <img
      class="w-full h-full object-cover"
      src={evenement.img}
      alt={`Image de l'événement ${evenement.titre}`}
    />
  </div>

  <div
    class="bg-sweetwhite text-black w-3/5 flex flex-col justify-start items-center py-4"
  >
    <h3 class="font-extrabold text-center font-montserrat my-3">
      {evenement.titre}
    </h3>
    <p class="underline font-bold uppercase my-4">{formatDeLaDate}</p>
    <p class="uppercase font-thin">{evenement.salle}</p>

    {
      evenement.expand?.invite_associes && (
        <div class="mt-6 mb-2 flex items-center justify-center w-full">
          <div class="w-20 text-right mr-4">
            <p class="text-xs">Avec :</p>
          </div>

          <div class="flex items-center w-32">
            <div class="w-10 flex justify-center">
              <img
                class="w-8 h-8 rounded-full object-cover"
                src={evenement.expand.invite_associes.img}
                alt={`Photo de ${evenement.expand.invite_associes.prenom} ${evenement.expand.invite_associes.nom}`}
              />
            </div>
            <div class="ml-1">
              <p class="text-[8px] font-bold">
                {evenement.expand.invite_associes.prenom}{" "}
                {evenement.expand.invite_associes.nom}
              </p>
            </div>
          </div>
        </div>
      )
    }
  </div>
</a>
